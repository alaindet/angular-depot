<ul class="breadcrumbs">
  <ng-container *ngFor="let link of links; let last = last">

    <ng-container
      [ngTemplateOutlet]="
        link.asBack
          ? backLinkRef
          : (!link.path
            ? noLinkSegmentRef
            : linkSegmentRef
          )
      "
      [ngTemplateOutletContext]="{ link: link }"
    ></ng-container>

    <li *ngIf="!last" class="segment separator">/</li>

  </ng-container>
</ul>

<ng-template #linkSegmentRef let-link="link">
  <a [routerLink]="link.path" class="segment link">{{ link.label }}</a>
</ng-template>

<ng-template #noLinkSegmentRef let-link="link">
  <span class="segment">{{ link.label }}</span>
</ng-template>

<ng-template #backLinkRef let-link="link">
  <a class="segment link" (click)="onGoBack()">{{ link.label }}</a>
</ng-template>
